<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popup Autofill Example</title>
    <style>
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        .popup input {
            display: block;
            margin-bottom: 10px;
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .popup button {
            padding: 10px 20px;
            margin-top: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <table>
        <tr>
            <th>Incident ID</th>
            <th>Subject</th>
            <th>Date</th>
            <th>Status</th>
        </tr>
    </table>
    <button class="add-button">+</button>

    <div class="popup-overlay"></div>
    <div class="popup" id="popup">
        <h3>Fill Details</h3>
        <form id="popupForm">
            <input type="text" id="firstName" placeholder="First Name">
            <input type="text" id="lastName" placeholder="Last Name">
            <input type="email" id="email" placeholder="Email">
            <input type="text" id="address" placeholder="Address">
            <input type="text" id="country" placeholder="Country">
            <input type="text" id="state" placeholder="State">
            <input type="text" id="city" placeholder="City">
            <input type="text" id="pincode" placeholder="Pincode">
            <input type="text" id="mobileNumber" placeholder="Mobile Number">
            <button type="button" id="closePopup">Close</button>
        </form>
    </div>

    <script>
        const payload = {
            firstName: "John",
            lastName: "Doe",
            email: "john.doe@example.com",
            password: "password123",
            confirmPassword: "password123",
            address: "123 Main Street",
            country: "USA",
            state: "California",
            city: "Los Angeles",
            pincode: "90001",
            mobileNumber: "1234567890",
        };

        localStorage.setItem('userDetails', JSON.stringify({
            firstName: payload.firstName,
            lastName: payload.lastName,
            email: payload.email,
            address: payload.address,
            country: payload.country,
            state: payload.state,
            city: payload.city,
            pincode: payload.pincode,
            mobileNumber: payload.mobileNumber
        }));

        const addButton = document.querySelector('.add-button');
        const popup = document.getElementById('popup');
        const popupOverlay = document.querySelector('.popup-overlay');
        const closePopup = document.getElementById('closePopup');

        addButton.addEventListener('click', () => {
            const userDetails = JSON.parse(localStorage.getItem('userDetails'));
            if (userDetails) {
                document.getElementById('firstName').value = userDetails.firstName;
                document.getElementById('lastName').value = userDetails.lastName;
                document.getElementById('email').value = userDetails.email;
                document.getElementById('address').value = userDetails.address;
                document.getElementById('country').value = userDetails.country;
                document.getElementById('state').value = userDetails.state;
                document.getElementById('city').value = userDetails.city;
                document.getElementById('pincode').value = userDetails.pincode;
                document.getElementById('mobileNumber').value = userDetails.mobileNumber;
            }

            popup.style.display = 'block';
            popupOverlay.style.display = 'block';
        });

        closePopup.addEventListener('click', () => {
            popup.style.display = 'none';
            popupOverlay.style.display = 'none';
        });

        popupOverlay.addEventListener('click', () => {
            popup.style.display = 'none';
            popupOverlay.style.display = 'none';
        });
    </script>
</body>
</html>